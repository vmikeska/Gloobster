@using System.Threading.Tasks
@using Gloobster.Portal.ViewModels
@model BlockVM

@{
    var area = Model.InfoByName("Area");
    area.AfterName = "(km²)";

    var mainLang = Model.InfoByName("Languages");
    var langs = mainLang.Value.Split(',').ToList();
    if (langs.Any())
    {
        mainLang.Value = langs[0];
    }    
}

<div class="blue-block wrapper adminBlock empty-cont" data-sid="@Model.SectionId" data-at="standard" data-id="@Model.SectionId">
   
        
        <div class="about">
            <h3>@Model.B.W("About")</h3>

            <table>
                @Html.Partial("TableItem", Model.InfoByName("Population"))                
                @Html.Partial("TableItem", Model.InfoByName("CapitalName"))
                @Html.Partial("TableItem", area)
                @*@Html.Partial("TableItem", Model.InfoByName("HDI"))*@
                @*@Html.Partial("TableItem", Model.InfoByName("CallingCode"))*@
                @*@Html.Partial("TableItem", Model.InfoByName("DrivingRight"))*@
                @Html.Partial("TableItem", Model.InfoByName("CurrencyCode"))

                @Html.Partial("TableItem", mainLang)
                @{
                    var otherLangs = Model.InfoByName("Languages");
                    otherLangs.AfterName = " (Other)";
                    if (langs.Count() > 1)
                    {
                        langs.RemoveAt(0);
                        otherLangs.Value = string.Join(", ", langs);
                    }
                }

                
                @Html.Partial("TableItem", otherLangs)

            </table>

        </div>

    @Html.Partial("NewArticleRating")

    @if (Model.Text.ToLower() == "no content")
    {
        @Html.Partial("Empty", new EmptyVM { B = Model.B, Data = "noborder" })
    }
    else
    {
        <p id="text_@Model.SectionId" class="h3"> @Model.Text</p>
    }

</div>