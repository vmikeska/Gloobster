@using System.Threading.Tasks
@using Gloobster.Common
@using Gloobster.DomainModels.Wiki
@using Gloobster.Enums
@using Gloobster.Portal
@using Gloobster.Portal.Controllers.Portal
@using Gloobster.Portal.ViewModels
@using Microsoft.AspNet.Mvc.Rendering
@using Microsoft.Data.Entity.Metadata.Internal
@model NewWikiModelBase

@{    
    ViewBag.BodyClass = "wiki-page-new";
    ViewBag.MenuGroup = "Wiki";
    //ViewData["Title"] = "gloobster.com - wiki - " + Model.Texts.Title;
}

@Html.Partial("GAnalytics")
@Html.Partial("AAPageScripts")

@if (GloobsterConfig.UseMiniScripts)
{
    @*<script src="/jsb/wikipage-@(ScriptsVersion.Version).js" type="text/javascript" data-notbuild="true"></script>*@
}
else
{
    //achtung, compilation just from the country page. If adding something, possibly need to split the js builds
    <script type="text/javascript" src="/js/Views/NewWikiPageView.js"></script>
}

<div class="wrapper">
    <img src="/images/samples/city-title.jpg" />
</div>

<div class="wrapper">

    @Html.Partial("AABreadcrumb")
    
    <div class="cont-wrap">
        
        <div class="cont-left">
            
            @foreach (var block in Model.BigBlocks)
            {                
                @Html.Partial("AASection_" + block.Type, block)
            }

        </div>
        
        <div class="cont-right">
            
            @if (Model.Texts.Type == ArticleType.City)
            {
                @Html.Partial("AAInfoTableCity")
            }
             
            @if (Model.Texts.Type == ArticleType.Country)
            {
                @Html.Partial("AAInfoTableCountry")
            }
            
            @Html.Partial("AAPhotos")
            
            

            @Html.Partial("AATable1Block", Model.GetPricesByCategory("Restaurant"))
            @Html.Partial("AATable1Block", Model.GetPricesByCategory("Transport"))
            @Html.Partial("AATable1Block", Model.GetPricesByCategory("Accommodation"))
            @Html.Partial("AATable1Block", Model.GetPricesByCategory("Nightlife", "Pub"))
            @Html.Partial("AATable1Block", Model.GetPricesByCategory("Nightlife", "Bar"))
            @Html.Partial("AATable1Block", Model.GetPricesByCategory("Nightlife", "Club"))
            

        </div>

    </div>


</div>