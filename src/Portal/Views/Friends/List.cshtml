@using System.Threading.Tasks
@using Gloobster.Common
@{		
    Layout = "_LayoutNew";
    ViewBag.BodyClass = "friends";
}

@if (GloobsterConfig.UseMiniScripts)
{
    <script src="/jsb/friends.js" type="text/javascript" data-notbuild="true"></script>
}
else
{
    <script src="/js/Views/FriendsView.js" type="text/javascript"></script>
}

<script>
        function onBodyLoad() {
            currentView = new FriendsView();
            currentView.initialize();
        }
</script>

<div class="info-block-bck collapsed">

    <div class="wrapper">

        <div class="title-table">
            <div class="left">
                <h1>@Model.W("Title")</h1>
            </div>

            <div class="right">

            </div>

        </div>

    </div>
</div>


<div id="friendsSearch" class="dropdown friends-search">
    <input class="inputed" type="text" placeholder="@Model.W("SearchPlaceholder")">
    <ul>
    </ul>
</div>



<div class="wrapper">
    <table id="usersTable"></table>
</div>



<script id="friendItem-template" type="text/x-handlebars-template">
    <tr class="friend-item">
        <td>            
            <div class="image">
                <img src="/PortalUser/ProfilePicture_s/{{id}}" />
            </div>
        </td>
        <td>
            <a class="link" href="/@RoutingConsts.UserDetailMenuName/{{id}}">{{name}}</a>
        </td>
        <td class="actions">           
        </td>
    </tr>
</script>



<script id="friendMenu-template" type="text/x-handlebars-template">
    <div class="dropdown">
        <span class="selected">@Model.W("Actions")</span>
        <ul>
            <li><a class="unfriend" data-fid="{{id}}" href="#">@Model.W("Unfriend")</a></li>            
        </ul>
        <input type="hidden">
    </div>
</script>

<script id="friend-search-item-template" type="text/x-handlebars-template">
    
    <li data-value="{{friendId}}">
        <div class="friends-all">
            <div class="image-all">
                <div class="image">
                    <img src="/PortalUser/ProfilePicture_s/{{friendId}}" />
                </div>
            </div>
            <div class="link">
                <a class="userLink" href="/@RoutingConsts.UserDetailMenuName/{{friendId}}">{{displayName}}</a>
            </div>
            <div class="button">
                <button class="requestButton" data-value="{{friendId}}">Request</button>
            </div>
        </div>
        
        
        
         
    </li>

</script>


