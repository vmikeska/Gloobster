@using System.Globalization
@using System.Threading.Tasks
@using Gloobster.Common
@using Gloobster.Portal.Controllers.Portal
@using Gloobster.Portal.ViewModels
@model TripItemViewModel


@{


    string itemLink = $"/{RoutingConsts.TripEditMenuName}/{Model.Id}";
    if (!Model.IsOwner)
    {
        itemLink = $"/{RoutingConsts.TripMenuName}/{Model.Id}";
    }
}

<div class="trip-all trip-holder" id="@Model.Id">
        <a href="@itemLink">

            @if (Model.HasSmallPicture)
            {
                <img id="tripImg_@Model.Id" src="/Trip/TripPictureSmall_s/@Model.Id">
            }
            else
            {
                <img id="tripImg_@Model.Id" src="~/images/TripDefault.jpg">
            }

            
            @if (Model.IsOwner)
            {
                <div class="title">@Model.Name</div>
            }
            else
            {
                <div class="title">@Model.Name - by @Model.OwnerName</div>
            }

            <div class="serv">
                @Model.FromDate.ToString("MMM yyyy", CultureInfo.GetCultureInfo(Model.B.Locale))                
            </div>
            @if (Model.IsOwner)
            {
                <span class="setting icon-gear"></span>
            }
            

        </a>
        @Html.Partial("TripsItemMenu")
        
    </div>
     
